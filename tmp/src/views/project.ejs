<!--
	{"projects":{
		"project1":
		{
			"folder1":
			{
				"subfoler1":
				{		
				},
				"subfile1" : null,
				"subfile2" : null
			},
			"folder2":
			{	
			},
			"file1":null,
			"file2":null
		},
		"project2":
		{	
		},
		"project3":
		{	
		}	
	}}
	<ul id="browser" class="filetree">\
		<li><span class="folder">Folder 1</span>\
			<ul>\
				<li><span class="file">Item 1.1</span></li>\
			</ul>\
		</li>\
		<li><span class="folder">Folder 2</span>\
			<ul>\
				<li><span class="folder">Subfolder 2.1</span>\
					<ul id="folder21">\
						<li><span class="file">File 2.1.1</span></li>\
						<li><span class="file">File 2.1.2</span></li>\
					</ul>\
				</li>\
				<li><span class="file">File 2.2</span></li>\
			</ul>\
		</li>\
		<li class="closed"><span class="folder">Folder 3 (closed at start)</span>\
			<ul>\
				<li><span class="file">File 3.1</span></li>\
			</ul>\
		</li>\
		<li><span class="file">File 4</span></li>\
	</ul>\
-->
<ul id="projects" class="filetree"><%
	for(var prj in projects){ 
		if( "object" == typeof projects[prj] ) { 
 			folder(prj,projects[prj]);
 		} 
	} 
%></ul>

<% function folder( name,obj ){ 
	%><li><span class="folder"><%= name %></span><ul><%
	for( var f in obj )
	{ 
		if( "object" == typeof obj[f] ) 
		{
			folder(f,obj[f]);
		}
	} 
	for( var g in obj ){ 
		if( "string" == typeof obj[g] ) 
		{ 
			%><li><span class="file"><%= g %></span></li><%
		}
	} 
	%></ul></li><%
}; %>
	
